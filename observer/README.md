# Наблюдатель

Паттерн публикации-подписки предоставляет уведовления об изменении данных для набора заинтересованых клиентов.
При этом серверу ненужна знать о подробности о клиентах. Вместо этого, клиенты просто запрашивают функцию подписки
которая позволяет клиентам добавлять/удалять себя их списка уведомлений (подписок). При этом сервер осуществяет
любую политику уведомлений, т.е. обычно уведомлении об изменении данных может быть отправлена сразу, но а также
уведомления могут отправлять периодически, что может снизить вычислительную нагрузку.

## Проблема

В обычной ситуации, каждый клиент может запрашивать данные периодически от клиента, для проверки изменения данных, но
данных подход тратит вычислительные ресурсы так как клиенты не могут знать об изменениях данных на сервере. Если сервер
отпраляет данные, то необходимо знать каким клиентам они необходимы.

Паттерн Обозревателя решает эту проблему добавлением функции подписки и отписки от сервера. Таким образом клиент может
самостоятельно добавить себя в список уведомлений.

## Структура

Рассмотрим обычную структуру реализации паттерна. *AbstractSubject* это сервер + введение списка подписчиков. Клиент добавляет 
себя в список уведомлений путем передачи указателя на функцию *accept(Datum)* и удаляет себя путем вызова того же указателя. 
Когда *AbstractSubject* решает уведомить клиентов, функция *notify()* проходит по всему списку клиентов, вызывая указатель на функацию
и передавая необходимые данные. *AbstractClient* предоставляет функции *accept(Datum**)* получать передаваемые данные.

### Интерфейс AbstractClient 

*AbstractClient* связавается с *AbstractSubject* для исполнения различных функции последнего. Он содержит функцию *accept(Datum)* которая
вызывается при подписке *AbstractClient*, а также всякий раз когда *AbstractSubject* считает целесообразным отправлять данные. *AbstractClient* назван абстрактным в смысле определения методов без их реализации. Реализация предоставляется *ConcreteClients*. 

### Интерфейс AbstractClient 

*AbstractSubject* это серверный паттерн.
